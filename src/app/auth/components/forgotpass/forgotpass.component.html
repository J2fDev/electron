<div class="loginBox" *ngIf="!success">
  <auth-backicon style="align-self: start;" (click)="backToLogin()"></auth-backicon>

  <h1>Esqueci minha senha</h1>
  <span class="subtitle">Insira o seu CPF para continuar.</span>
  <br />
  <app-alert title="Erro" message="{{errorResponse}}"
             *ngIf="errorResponse.length > 0" type="error" class="fullwidth" canclose="false"></app-alert>
  <br />

  <form name="loginForms" [formGroup]="loginForm" class="forms">
    <mat-form-field class="formField" appearance="outline" hideRequiredMarker>
      <mat-label>CPF</mat-label>
      <input mask="000.000.000-00" formControlName="doc" class="input" matInput placeholder="Digite seu CPF"
             required/>
      <mat-icon *ngIf="loginForm.controls['doc'].value"
                matSuffix [color]="!loginForm.controls['doc'].valid ? 'warn' : 'primary'">
        {{!loginForm.controls['doc'].valid ? 'block' : 'check_circle_outline'}}
      </mat-icon>

      <mat-error *ngIf="!loginForm.controls['doc'].valid">
        Digite um CPF v√°lido.
      </mat-error>
    </mat-form-field>
  </form>
  <br />

  <button [disabled]="!loginForm.valid" class="fullwidth" (click)="sendToServer()" mat-raised-button
          color="primary">
    Enviar
  </button>
  <br />
</div>

<div class="loginBox" *ngIf="success">
  <mat-icon class="errorIcon uprblue">check_circle_outline</mat-icon>
  <br /><br />
  <h1>Feito!</h1>
  <p class="subtitle2">Enviamos um link para o e-mail cadastrado.</p>
  <p class="mailmask uprblue">{{mail}}</p>
  <button mat-raised-button color="primary" class="btnretorno" (click)="backToLogin()">
    Retornar ao login
  </button>
  <br />
</div>
